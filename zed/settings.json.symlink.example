// -*- mode: jsonc -*-
// Zed settings
//
// For information on how to configure Zed, see the Zed
// documentation: https://zed.dev/docs/configuring-zed
//
// To see all of Zed's default settings without changing your
// custom settings, run `zed: open default settings` from the
// command palette (cmd-shift-p / ctrl-shift-p)
//
// @omit-from-template: [
//   .assistant,
//   .active_pane_modifiers.inactive_opacity
// ]
//
{
  //==========================================
  // GENERAL SETTINGS
  //==========================================
  "vim_mode": true,
  "cursor_blink": false,
  "which_key": {
    "enabled": true,
    "delay_ms": 0,
  },
  "minimap": { "show": "never" }, // The map is great sometimes but very distracting with lots of panes.
  "icon_theme": "Material Icon Theme",

  //==========================================
  // AI ASSISTANT AND COPILOT
  //==========================================
  "agent": {
    "favorite_models": [
      // As of 1/29/26, for most tasks I use Anthropic's Claude 4.5 model lineup, summarized as follows:
      //
      // +------------------------------+-------------------------+----------------------------------+----------------------------------+
      // | Model Name                   | Bedrock Cost (1M Tok)   | Role                             | Best Use Case                    |
      // +------------------------------+-------------------------+----------------------------------+----------------------------------+
      // | Claude Opus 4.5              | In: $5.00 | Out: $25.00 | Powerhouse (Deepest Thinker)     | "Bet the company" decisions,     |
      // |                              |                         |                                  | research, complex architecture.  |
      // +------------------------------+-------------------------+----------------------------------+----------------------------------+
      // | Claude Sonnet 4.5            | In: $3.00 | Out: $15.00 | Workhorse (Standard Default)     | Daily coding, production apps,   |
      // |                              |                         |                                  | general reasoning & writing.     |
      // +------------------------------+-------------------------+----------------------------------+----------------------------------+
      // | Claude Haiku 4.5             | In: $1.00 | Out: $5.00  | Speedster (Fast & Cheap)         | High volume tasks, simple logic, |
      // |                              |                         |                                  | extraction, autocomplete.        |
      // +------------------------------+-------------------------+----------------------------------+----------------------------------+
      // | *Thinking Mode* (Any Model)  | Same rates per 1M       | Enhanced Logic                   | Hard math/bugs.                  |
      // |                              | (Pays as Output tokens) |                                  | WARNING: Burns 2x-5x more tokens |
      // +------------------------------+-------------------------+----------------------------------+----------------------------------+
      {
        "provider": "copilot_chat",
        "model": "claude-opus-4.5",
      },
      {
        "provider": "amazon-bedrock",
        "model": "claude-sonnet-4-5",
      },
      {
        "provider": "amazon-bedrock",
        "model": "claude-opus-4-5",
      },
      {
        "provider": "amazon-bedrock",
        "model": "claude-haiku-4-5",
      },
      {
        "provider": "copilot_chat",
        "model": "claude-sonnet-4.5",
      },
      {
        "provider": "amazon-bedrock",
        "model": "claude-opus-4-5-thinking",
      },
      {
        "provider": "amazon-bedrock",
        "model": "claude-sonnet-4-5-thinking",
      },
    ],
    "message_editor_min_lines": 4,
    "use_modifier_to_send": true,
    "play_sound_when_agent_done": true,
    "default_profile": "write",
    "always_allow_tool_actions": true,
    "default_model": {
      "provider": "copilot_chat",
      "model": "claude-sonnet-4.5",
    },
  },

  "edit_predictions": {
    "provider": "copilot",
  },

  "language_models": {
    "bedrock": {
      "authentication_method": "named_profile",
      "profile": "sandbox_bedrock",
    },
  },

  "context_servers": {
    "mcp-server-github": {
      "enabled": true,
      "settings": {
        "github_personal_access_token": "<SHHHHHH>",
      },
    },
    "atlassian": {
      "env": {},
      "enabled": true,
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://mcp.atlassian.com/v1/sse"],
    },
  },

  //==========================================
  // APPEARANCE
  //==========================================
  // Font settings
  "ui_font_size": 14,
  "buffer_font_size": 14.0,
  "buffer_font_family": "IBM Plex Mono",

  // Theme settings
  "theme": {
    "mode": "system",
    "light": "Base16 Classic Dark",
    "dark": "One Dark",
  },

  // UI appearance
  "active_pane_modifiers": {
    "inactive_opacity": 0.7,
  },
  "tabs": {
    "file_icons": true,
    "git_status": true,
  },

  //==========================================
  // CODE DISPLAY AND EDITING
  //==========================================
  // Text formatting
  "preferred_line_length": 100,
  "wrap_guides": [100],
  "soft_wrap": "none",
  "tab_size": 2,
  "format_on_save": "on",

  // Code guides and hints
  "indent_guides": {
    "enabled": true,
    "coloring": "indent_aware",
  },
  "inlay_hints": {
    "enabled": false,
    "show_type_hints": true,
    "show_parameter_hints": true,
    "show_other_hints": true,
    "show_background": false,
    "edit_debounce_ms": 700,
    "scroll_debounce_ms": 50,
    "toggle_on_modifiers_press": null,
  },

  // Diagnostics display
  "diagnostics": {
    "include_warnings": true,
    "inline": {
      "enabled": true,
      "padding": 10,
      "min_column": 100,
    },
  },

  //==========================================
  // SEARCH AND FILE MANAGEMENT
  //==========================================
  "search": {
    "case_sensitive": false,
    "regex": true,
  },

  "seed_search_query_from_cursor": "selection",

  "file_scan_exclusions": [
    "**/.git",
    "**/.svn",
    "**/.hg",
    "**/.jj",
    "**/CVS",
    "**/.DS_Store",
    "**/Thumbs.db",
    "**/.classpath",
    "**/.settings",
    "*.rbi",
  ],

  "file_finder": {
    "modal_max_width": "xlarge",
  },

  "file_types": {
    "JSONC": ["settings.json.symlink*", "keymap.json.symlink*", "tasks.json.symlink*"],
    "Git Config": ["gitconfig.symlink*"],
  },

  //==========================================
  // LANGUAGE-SPECIFIC SETTINGS
  //==========================================
  "languages": {
    "Ruby": {
      "tab_size": 2,
      "language_servers": ["ruby-lsp", "!sorbet", "!solargraph", "!rubocop"],
      "formatter": "language_server",
      "format_on_save": "on",
    },
    "YAML": {
      "format_on_save": "off",
    },
    "Markdown": {
      "format_on_save": "off",
    },
  },

  //==========================================
  // LANGUAGE SERVER PROTOCOL SETTINGS
  //==========================================
  "lsp": {
    "ruby-lsp": {
      "initialization_options": {
        "enabledFeatures": {
          "diagnostics": false, // Ruby LSP uses pull-based diagnostics which Zed doesn't support yet.
          "formatting": true,
        },
        "formatter": "standard",
      },
    },
    "sorbet": {
      "args": ["--ignore", "gems/*/rbi"],
    },
  },
}
